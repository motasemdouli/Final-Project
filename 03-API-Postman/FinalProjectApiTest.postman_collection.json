{
  "info": {
    "_postman_id": "7db95d71-aeb6-44d5-a973-e53cdf6b2308",
    "name": "FinalProjectApiTest",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "40147865"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "POST - Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.environment.set(\"accessToken\", pm.response.json().accessToken);\r",
                  "pm.environment.set(\"refreshToken\", pm.response.json().refreshToken);\r",
                  "pm.environment.set(\"userId\", pm.response.json().id);\r",
                  "\r",
                  "\r",
                  "pm.test(\"Status code is 200\", function() {\r",
                  "  pm.response.to.have.status(200);\r",
                  "});\r",
                  "pm.test(\"Token is returned\", function() {\r",
                  "  pm.response.to.have.jsonBody('accessToken');\r",
                  "  pm.environment.set(\"accessToken\", pm.response.json().accessToken);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "protocolProfileBehavior": {
            "disabledSystemHeaders": {}
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"username\":\"emilys\",\"password\":\"emilyspass\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Login - Invalid Credentials",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function() {\r",
                  "  pm.response.to.have.status(400);\r",
                  "});\r",
                  "pm.test(\"Error message is 'Invalid credentials'\", function() {\r",
                  "  pm.response.to.have.jsonBody('message');\r",
                  "});\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"username\": \"wronguser\",\r\n  \"password\": \"wrongpassword\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function() {\r",
                  "  pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"New accessToken is returned\", function() {\r",
                  "  const jsonData = pm.response.json();\r",
                  "  pm.expect(jsonData).to.have.property(\"accessToken\");\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"refreshToken\": \"{{refreshToken}}\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/auth/refresh",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "refresh"
              ]
            }
          },
          "response": []
        }
      ],
      "auth": {
        "type": "bearer",
        "bearer": [
          {
            "key": "token",
            "value": "{{accessToken}}",
            "type": "string"
          }
        ]
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "packages": {},
            "requests": {},
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "packages": {},
            "requests": {},
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "name": "Products",
      "item": [
        {
          "name": "Get Products - List of Products",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function() {\r",
                  "  pm.response.to.have.status(200);\r",
                  "});\r",
                  "pm.test(\"Products list is returned\", function() {\r",
                  "  pm.response.to.have.jsonBody('products');\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/products",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Product by ID - Valid Product ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function() {\r",
                  "  pm.response.to.have.status(200);\r",
                  "});\r",
                  "pm.test(\"Product details are returned\", function() {\r",
                  "  pm.response.to.have.jsonBody('id');\r",
                  "  pm.response.to.have.jsonBody('title');\r",
                  "  pm.response.to.have.jsonBody('price');\r",
                  "  pm.response.to.have.jsonBody('description');\r",
                  "  pm.response.to.have.jsonBody('category');\r",
                  "});\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/products/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Product by ID - Invalid Product ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function() {\r",
                  "  pm.response.to.have.status(404);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Error message contains 'Product with id' and the correct ID\", function() {\r",
                  "  var message = pm.response.json().message;\r",
                  "  pm.expect(message).to.include(\"Product with id\");\r",
                  "  pm.expect(message).to.include(\"not found\");\r",
                  "});\r",
                  "\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/products/99999",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "99999"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Product - Valid Data",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function() {\r",
                  "  pm.response.to.have.status(201);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Product is created with correct details\", function() {\r",
                  "  pm.response.to.have.jsonBody('id');\r",
                  "  pm.response.to.have.jsonBody('price', 29.99);\r",
                  "  pm.response.to.have.jsonBody('description', 'A new test product');\r",
                  "  pm.response.to.have.jsonBody('category', 'Electronics');\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"name\": \"Tablet Test\",\r\n  \"price\": 29.99,\r\n  \"description\": \"A new test product\",\r\n  \"category\": \"Electronics\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/products/add",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "add"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Product - Valid Product ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function() {\r",
                  "  pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Product is updated with correct details\", function() {\r",
                  "  pm.response.to.have.jsonBody('id', 1);\r",
                  "  pm.response.to.have.jsonBody('title', 'Essence Mascara Lash Princess');\r",
                  "  pm.response.to.have.jsonBody('price', 19.99);\r",
                  "  pm.response.to.have.jsonBody('description', 'Updated product description');\r",
                  "  pm.response.to.have.jsonBody('category', 'Updated Category');\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"name\": \"Updated Product\",\r\n  \"price\": 19.99,\r\n  \"description\": \"Updated product description\",\r\n  \"category\": \"Updated Category\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/products/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Product - Invalid Product ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function() {\r",
                  "  pm.response.to.have.status(404);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Error message contains 'Product with id' and the correct ID\", function() {\r",
                  "  var message = pm.response.json().message;\r",
                  "  pm.expect(message).to.include(\"Product with id\");\r",
                  "  pm.expect(message).to.include(\"not found\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"name\": \"Updated Product\",\r\n  \"price\": 19.99,\r\n  \"description\": \"Updated product description\",\r\n  \"category\": \"Updated Category\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/products/99999",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "99999"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Single Product - Valid Product ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function() {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product details are returned\", function() {",
                  "  pm.response.to.have.jsonBody('id');",
                  "  pm.response.to.have.jsonBody('title');",
                  "  pm.response.to.have.jsonBody('price');",
                  "  pm.response.to.have.jsonBody('stock');",
                  "  pm.response.to.have.jsonBody('discountPercentage');",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/products/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Search Products - With Results",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function() {\r",
                  "  pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Search returns products\", function() {\r",
                  "  const jsonData = pm.response.json();\r",
                  "  pm.expect(jsonData).to.have.property('products');\r",
                  "  pm.expect(jsonData.products).to.be.an('array').and.is.not.empty;\r",
                  "  pm.expect(jsonData.products.length).to.be.above(0, \"The search should return at least one product\");\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/products/search?q=Charger",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "search"
              ],
              "query": [
                {
                  "key": "q",
                  "value": "Charger"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Categories List",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function() {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Categories list is returned\", function() {",
                  "  const jsonData = pm.response.json();",
                  "  // The response is an array directly, not an object with 'categories' property",
                  "  pm.expect(jsonData).to.be.an('array').and.is.not.empty;",
                  "  ",
                  "  // Verify each category has the expected properties",
                  "  jsonData.forEach(function(category) {",
                  "    pm.expect(category).to.have.property('slug');",
                  "    pm.expect(category).to.have.property('name');",
                  "    pm.expect(category).to.have.property('url');",
                  "  });",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/products/categories",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "categories"
              ]
            }
          },
          "response": []
        }
      ],
      "auth": {
        "type": "bearer",
        "bearer": [
          {
            "key": "token",
            "value": "{{accessToken}}",
            "type": "string"
          }
        ]
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "packages": {},
            "requests": {},
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "packages": {},
            "requests": {},
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "name": "Carts",
      "item": [
        {
          "name": "Add Product to Cart - Valid Data",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function() {",
                  "  pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Cart is updated with the correct number of products\", function() {",
                  "  const jsonData = pm.response.json();",
                  "  ",
                  "  pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData.products).to.be.an('array').and.to.not.be.empty;",
                  "  pm.expect(jsonData.total).to.be.above(0);",
                  "  pm.expect(jsonData.totalProducts).to.be.above(0);",
                  "  pm.expect(jsonData.totalQuantity).to.be.above(0);",
                  "});",
                  "pm.environment.set(\"cartId\", pm.response.json().id);",
                  "pm.environment.set(\"productId\", pm.response.json().id);",
                  "",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"userId\": 1,\r\n  \"products\": [\r\n    {\r\n      \"id\": 1,\r\n      \"quantity\": 2\r\n    }\r\n  ]\r\n}\r\n\r\n\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/carts/add",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "carts",
                "add"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Cart Details - Valid Cart ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200 OK\", function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Cart contains products\", function() {",
                  "    const jsonData = pm.response.json();",
                  "    ",
                  "    pm.expect(jsonData).to.have.property('products');",
                  "    pm.expect(jsonData.products).to.be.an('array');",
                  "    pm.expect(jsonData.products.length).to.be.above(0, \"The cart should contain at least one product\");",
                  "});",
                  "",
                  "pm.test(\"Cart totals are calculated correctly\", function() {",
                  "    const jsonData = pm.response.json();",
                  "    ",
                  "    pm.expect(jsonData).to.have.property('total');",
                  "    pm.expect(jsonData).to.have.property('totalProducts');",
                  "    pm.expect(jsonData).to.have.property('totalQuantity');",
                  "    pm.expect(jsonData).to.have.property('discountedTotal');",
                  "    ",
                  "    pm.expect(jsonData.total).to.be.above(0, \"The total amount should be greater than zero\");",
                  "    pm.expect(jsonData.totalProducts).to.be.above(0, \"The total number of products should be greater than zero\");",
                  "    pm.expect(jsonData.totalQuantity).to.be.above(0, \"The total quantity should be greater than zero\");",
                  "    ",
                  "    pm.expect(jsonData.totalProducts).to.equal(jsonData.products.length, \"The number of products should match the length of the products array\");",
                  "    ",
                  "    let calculatedQuantity = 0;",
                  "    jsonData.products.forEach(function(product) {",
                  "        calculatedQuantity += product.quantity;",
                  "    });",
                  "    pm.expect(jsonData.totalQuantity).to.equal(calculatedQuantity, \"The total quantity should equal the sum of the products' quantities\");",
                  "});",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/carts/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "carts",
                "1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Add Product to Cart - Invalid Data",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201 (API accepts invalid data)\", function() {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response has correct structure\", function() {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('products');",
                  "    pm.expect(jsonData).to.have.property('total');",
                  "    pm.expect(jsonData).to.have.property('discountedTotal');",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.expect(jsonData).to.have.property('totalProducts');",
                  "    pm.expect(jsonData).to.have.property('totalQuantity');",
                  "});",
                  "",
                  "pm.test(\"Response schema validation\", function() {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.id).to.be.a('number');",
                  "    pm.expect(jsonData.products).to.be.an('array');",
                  "    pm.expect(jsonData.total).to.be.a('number');",
                  "    pm.expect(jsonData.discountedTotal).to.be.a('number');",
                  "    pm.expect(jsonData.userId).to.be.a('number');",
                  "    pm.expect(jsonData.totalProducts).to.be.a('number');",
                  "    pm.expect(jsonData.totalQuantity).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"⚠️ BUG: API accepted negative price without validation\", function() {",
                  "    ",
                  "    ",
                  "    const requestBody = JSON.parse(pm.request.body.raw);",
                  "    const hasNegativePrice = requestBody.products.some(product => product.price < 0);",
                  "    ",
                  "    if (hasNegativePrice) {",
                  "        console.warn(\"POTENTIAL BUG: API accepted a product with negative price. This should be validated server-side.\");",
                  "        pm.expect(true, \"Negative price was accepted - this is a validation bug\").to.be.true;",
                  "    }",
                  "});",
                  "",
                  "pm.test(\"UserId in response matches request\", function() {",
                  "    const jsonData = pm.response.json();",
                  "    const requestBody = JSON.parse(pm.request.body.raw);",
                  "    pm.expect(jsonData.userId).to.eql(requestBody.userId);",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"userId\": 1,\r\n  \"products\": [\r\n    {\r\n      \"productId\": 1,\r\n      \"quantity\": 2,\r\n      \"price\": -10  \r\n    }\r\n  ]\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/carts/add",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "carts",
                "add"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Add Multiple Products to Cart",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function() {",
                  "  pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Multiple products are added\", function() {",
                  "  const jsonData = pm.response.json();",
                  "  ",
                  "  // Verify products array exists",
                  "  pm.expect(jsonData).to.have.property('products');",
                  "  pm.expect(jsonData.products).to.be.an('array');",
                  "  ",
                  "  // Verify cart structure has required fields",
                  "  pm.expect(jsonData).to.have.property('id');",
                  "  pm.expect(jsonData).to.have.property('userId');",
                  "  pm.expect(jsonData).to.have.property('total');",
                  "  pm.expect(jsonData).to.have.property('totalProducts');",
                  "  pm.expect(jsonData).to.have.property('totalQuantity');",
                  "  ",
                  "  // Verify totalProducts or totalQuantity reflects added products",
                  "  pm.expect(jsonData.totalProducts).to.be.a('number');",
                  "  pm.expect(jsonData.totalQuantity).to.be.a('number');",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"userId\": 1,\r\n  \"products\": [\r\n    {\r\n      \"productId\": 1,\r\n      \"quantity\": 2\r\n    },\r\n    {\r\n      \"productId\": 78,\r\n      \"quantity\": 3\r\n    }\r\n  ]\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/carts/add",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "carts",
                "add"
              ]
            }
          },
          "response": []
        }
      ],
      "auth": {
        "type": "bearer",
        "bearer": [
          {
            "key": "token",
            "value": "{{accessToken}}",
            "type": "string"
          }
        ]
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "packages": {},
            "requests": {},
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "packages": {},
            "requests": {},
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "Get Users - All Users",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function() {\r",
                  "  pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "users"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get User by ID - Valid User ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function() {\r",
                  "  pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"User details are returned\", function() {\r",
                  "  pm.response.to.have.jsonBody('id');\r",
                  "  pm.response.to.have.jsonBody('username');\r",
                  "  pm.response.to.have.jsonBody('email');\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "users",
                "1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update User - Valid User Data",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function() {\r",
                  "  pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"User details are updated\", function() {\r",
                  "  pm.response.to.have.jsonBody('id');\r",
                  "  pm.response.to.have.jsonBody('firstName', 'Motasem Updated');\r",
                  "  pm.response.to.have.jsonBody('lastName', 'Doleh Updated');\r",
                  "  pm.response.to.have.jsonBody('email', 'motasem.updated@example.com');\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"firstName\": \"Motasem Updated\",\r\n  \"lastName\": \"Doleh Updated\",\r\n  \"email\": \"motasem.updated@example.com\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/users/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "users",
                "1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete User - Valid User ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function() {\r",
                  "  pm.response.to.have.status(200);  \r",
                  "});\r",
                  "\r",
                  "pm.test(\"User deleted or response contains user data\", function() {\r",
                  "  pm.response.to.have.jsonBody('id');  \r",
                  "  pm.response.to.have.jsonBody('firstName');  \r",
                  "  pm.response.to.have.jsonBody('lastName');  \r",
                  "});\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "users",
                "1"
              ]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{accessToken}}",
        "type": "string"
      }
    ]
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [
          ""
        ]
      }
    }
  ]
}